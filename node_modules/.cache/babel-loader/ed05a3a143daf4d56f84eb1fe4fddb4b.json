{"ast":null,"code":"var _jsxFileName = \"/Users/danhalperin/Desktop/hamal/src/selectedApp/selectedAppMada.js\";\nimport React, { Component } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport citiesList from \"../jsons/citiesList\";\nimport Autosuggest from \"react-autosuggest\";\nimport Lottie from \"react-lottie\";\nimport * as animationData from \"../jsons/health.json\";\nimport \"../App.css\";\nimport moment from \"moment/min/moment-with-locales\";\nconst defaultOptions = {\n  loop: false,\n  autoplay: true,\n  animationData: animationData.default,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid slice\"\n  }\n};\nconst defaultOptions2 = {\n  loop: true,\n  autoplay: true,\n  animationData: animationData.default,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid slice\"\n  }\n};\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nfunction getSuggestions(value) {\n  const escapedValue = escapeRegexCharacters(value.trim());\n\n  if (escapedValue === \"\") {\n    return [];\n  }\n\n  const regex = new RegExp(\"^\" + escapedValue, \"i\");\n  return citiesList.filter(city => regex.test(city));\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion;\n}\n\nfunction renderSuggestion(suggestion) {\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, suggestion);\n}\n\nexport default class SelectedAppMada extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (event, {\n      newValue,\n      method\n    }) => {\n      this.setState({\n        value: newValue\n      });\n    };\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      this.setState({\n        suggestions: getSuggestions(value)\n      });\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.state = {\n      hebrew: undefined,\n      data: undefined,\n      value: \"\",\n      suggestions: []\n    };\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  componentWillMount() {\n    if (this.props.selectedAppInfo.hebrew) {\n      this.setState({\n        hebrew: true\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.selectedAppInfo.hebrew) {\n      fetch(\"https://agamapi.azurewebsites.net/hazala/hours/24\").then(response => response.json()).then(json => {\n        var newJson = [];\n\n        for (var i = 0; i < json.length; i++) {\n          if (json[i].City === this.props.selectedAppInfo.hebrew) {\n            newJson.push(json[i]);\n          }\n        }\n\n        var reversedJson = newJson.reverse();\n        this.setState({\n          data: reversedJson\n        });\n      });\n    } else {\n      this.setState({\n        hebrew: false\n      });\n    }\n  }\n\n  fetchData() {\n    this.setState({\n      hebrew: true\n    });\n    fetch(\"https://agamapi.azurewebsites.net/hazala/hours/24\").then(response => response.json()).then(json => {\n      var newJson = [];\n\n      for (var i = 0; i < json.length; i++) {\n        if (json[i].City === this.props.selectedAppInfo.hebrew) {\n          newJson.push(json[i]);\n        }\n      }\n\n      var reversedJson = newJson.reverse();\n      this.setState({\n        data: reversedJson\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          value = _this$state.value,\n          suggestions = _this$state.suggestions;\n    const inputProps = {\n      placeholder: \"חפש עיר\",\n      value,\n      onChange: this.onChange\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(FadeIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, !this.state.hebrew ? React.createElement(\"div\", {\n      class: \"App-header2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Lottie, {\n      options: defaultOptions,\n      height: 150,\n      width: 150,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      class: \"mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"\\u05D9\\u05E9 \\u05DC\\u05D4\\u05D2\\u05D3\\u05D9\\u05E8 \\u05E2\\u05D9\\u05E8 \\u05D1\\u05D9\\u05E9\\u05E8\\u05D0\\u05DC (\\u05D1\\u05E2\\u05D1\\u05E8\\u05D9\\u05EA!)\"), React.createElement(Autosuggest, {\n      suggestions: suggestions,\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n      getSuggestionValue: getSuggestionValue,\n      renderSuggestion: renderSuggestion,\n      inputProps: inputProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      class: \"btn btn-outline-light mt-4 font-weight-bold\",\n      onClick: () => {\n        if (this.state.value !== \"\") {\n          this.props.updateHebrew(this.props.selectedAppInfo.appName, \"hebrew\", this.state.value);\n          this.fetchData();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"\\u05D1\\u05D7\\u05E8 \\u05E2\\u05D9\\u05E8\")) : this.state.hebrew && this.state.data ? React.createElement(\"div\", {\n      class: \"mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(FadeIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.state.data.map(item => React.createElement(\"a\", {\n      href: \"https://www.google.com/maps?q=\".concat(item.Latitude, \",\").concat(item.Longitude),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      key: Math.random(),\n      class: \"customWrapper d-flex justify-content-between\",\n      style: {\n        width: \"100%\",\n        margin: \"0\",\n        padding: \"0\",\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        padding: \"0\",\n        margin: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, moment(item.EventTime).locale(\"he\").fromNow()), React.createElement(\"p\", {\n      style: {\n        padding: \"0\",\n        margin: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, item.Cause !== \"\" ? item.Cause : \"?\"), React.createElement(\"p\", {\n      style: {\n        padding: \"0\",\n        margin: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, item.City))))) : React.createElement(Lottie, {\n      options: defaultOptions2,\n      height: 150,\n      width: 150,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/danhalperin/Desktop/hamal/src/selectedApp/selectedAppMada.js"],"names":["React","Component","FadeIn","citiesList","Autosuggest","Lottie","animationData","moment","defaultOptions","loop","autoplay","default","rendererSettings","preserveAspectRatio","defaultOptions2","escapeRegexCharacters","str","replace","getSuggestions","value","escapedValue","trim","regex","RegExp","filter","city","test","getSuggestionValue","suggestion","renderSuggestion","SelectedAppMada","constructor","props","onChange","event","newValue","method","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","state","hebrew","undefined","data","fetchData","bind","componentWillMount","selectedAppInfo","componentDidMount","fetch","then","response","json","newJson","i","length","City","push","reversedJson","reverse","render","inputProps","placeholder","cursor","updateHebrew","appName","map","item","Latitude","Longitude","Math","random","width","margin","padding","EventTime","locale","fromNow","Cause"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport citiesList from \"../jsons/citiesList\";\nimport Autosuggest from \"react-autosuggest\";\nimport Lottie from \"react-lottie\";\nimport * as animationData from \"../jsons/health.json\";\nimport \"../App.css\";\nimport moment from \"moment/min/moment-with-locales\";\n\nconst defaultOptions = {\n  loop: false,\n  autoplay: true,\n  animationData: animationData.default,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid slice\"\n  }\n};\nconst defaultOptions2 = {\n  loop: true,\n  autoplay: true,\n  animationData: animationData.default,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid slice\"\n  }\n};\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nfunction getSuggestions(value) {\n  const escapedValue = escapeRegexCharacters(value.trim());\n\n  if (escapedValue === \"\") {\n    return [];\n  }\n\n  const regex = new RegExp(\"^\" + escapedValue, \"i\");\n\n  return citiesList.filter(city => regex.test(city));\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion;\n}\n\nfunction renderSuggestion(suggestion) {\n  return <span>{suggestion}</span>;\n}\n\nexport default class SelectedAppMada extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hebrew: undefined,\n      data: undefined,\n      value: \"\",\n      suggestions: []\n    };\n    this.fetchData = this.fetchData.bind(this);\n  }\n  onChange = (event, { newValue, method }) => {\n    this.setState({\n      value: newValue\n    });\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: getSuggestions(value)\n    });\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n  componentWillMount() {\n    if (this.props.selectedAppInfo.hebrew) {\n      this.setState({ hebrew: true });\n    }\n  }\n  componentDidMount() {\n    if (this.props.selectedAppInfo.hebrew) {\n      fetch(`https://agamapi.azurewebsites.net/hazala/hours/24`)\n        .then(response => response.json())\n        .then(json => {\n          var newJson = [];\n          for (var i = 0; i < json.length; i++) {\n            if (json[i].City === this.props.selectedAppInfo.hebrew) {\n              newJson.push(json[i]);\n            }\n          }\n          var reversedJson = newJson.reverse();\n          this.setState({ data: reversedJson });\n        });\n    } else {\n      this.setState({ hebrew: false });\n    }\n  }\n\n  fetchData() {\n    this.setState({ hebrew: true });\n    fetch(`https://agamapi.azurewebsites.net/hazala/hours/24`)\n      .then(response => response.json())\n      .then(json => {\n        var newJson = [];\n        for (var i = 0; i < json.length; i++) {\n          if (json[i].City === this.props.selectedAppInfo.hebrew) {\n            newJson.push(json[i]);\n          }\n        }\n        var reversedJson = newJson.reverse();\n        this.setState({ data: reversedJson });\n      });\n  }\n  render() {\n    const { value, suggestions } = this.state;\n    const inputProps = {\n      placeholder: \"חפש עיר\",\n      value,\n      onChange: this.onChange\n    };\n    return (\n      <div>\n        <FadeIn>\n          {!this.state.hebrew ? (\n            <div class=\"App-header2\">\n              <Lottie options={defaultOptions} height={150} width={150} />\n              <h4 class=\"mb-4\">יש להגדיר עיר בישראל (בעברית!)</h4>\n              <Autosuggest\n                suggestions={suggestions}\n                onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                getSuggestionValue={getSuggestionValue}\n                renderSuggestion={renderSuggestion}\n                inputProps={inputProps}\n              />\n              <div\n                style={{ cursor: \"pointer\" }}\n                class=\"btn btn-outline-light mt-4 font-weight-bold\"\n                onClick={() => {\n                  if (this.state.value !== \"\") {\n                    this.props.updateHebrew(\n                      this.props.selectedAppInfo.appName,\n                      \"hebrew\",\n                      this.state.value\n                    );\n                    this.fetchData();\n                  }\n                }}\n              >\n                בחר עיר\n              </div>\n            </div>\n          ) : this.state.hebrew && this.state.data ? (\n            <div class=\"mt-4\">\n              <FadeIn>\n                {this.state.data.map(item => (\n                  <a\n                    href={`https://www.google.com/maps?q=${item.Latitude},${\n                      item.Longitude\n                    }`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    key={Math.random()}\n                    class=\"customWrapper d-flex justify-content-between\"\n                    style={{\n                      width: \"100%\",\n                      margin: \"0\",\n                      padding: \"0\",\n                      cursor: \"pointer\"\n                    }}\n                  >\n                    <p style={{ padding: \"0\", margin: \"0\" }}>\n                      {moment(item.EventTime)\n                        .locale(\"he\")\n                        .fromNow()}\n                    </p>\n                    <p style={{ padding: \"0\", margin: \"0\" }}>\n                      {item.Cause !== \"\" ? item.Cause : \"?\"}\n                    </p>\n                    <p style={{ padding: \"0\", margin: \"0\" }}>{item.City}</p>\n                  </a>\n                ))}\n              </FadeIn>\n            </div>\n          ) : (\n            <Lottie options={defaultOptions2} height={150} width={150} />\n          )}\n        </FadeIn>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
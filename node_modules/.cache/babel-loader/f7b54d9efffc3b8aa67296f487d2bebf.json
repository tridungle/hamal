{"ast":null,"code":"import load from \"little-loader\";\nimport qs from \"query-string\";\nvar GOOGLE_MAP_PLACES_API = \"https://maps.googleapis.com/maps/api/js\";\nvar NOT_LOADED = 0;\nvar LOADING = 1;\nvar LOADED = 2;\nvar queue = [];\nvar state = NOT_LOADED;\nvar googleMaps = null;\nvar error = null;\n\nfunction loadGoogleMapsSdk(params, callback) {\n  if (typeof window !== \"undefined\") {\n    window.gm_authFailure = function () {\n      callback({\n        googleMaps: googleMaps,\n        error: \"SDK Authentication Error\"\n      });\n    };\n\n    if (state === LOADED) {\n      callback({\n        googleMaps: googleMaps,\n        error: error\n      });\n    } else if (state === LOADING) {\n      queue.push(callback);\n    } else {\n      if (!window.google) {\n        window.google = undefined;\n      }\n\n      state = LOADING;\n      queue.push(callback);\n      load(GOOGLE_MAP_PLACES_API + \"?\" + qs.stringify(params), function (err) {\n        state = LOADED;\n        error = err ? \"Network Error\" : null;\n        googleMaps = window.google ? window.google.maps : null;\n\n        while (queue.length > 0) {\n          queue.pop()({\n            googleMaps: googleMaps,\n            error: error\n          });\n        }\n      });\n    }\n  }\n}\n\nexport default loadGoogleMapsSdk;","map":null,"metadata":{},"sourceType":"module"}